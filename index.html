<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" >

<link rel="stylesheet" href="pricing.css">

<!-- Latest compiled and minified JavaScript -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" </script>

<title>BlockEstate</title>

	
</head>
<body>

<!--Nav Bar-->
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
  	<a class="navbar-brand" href="#"></a>
  	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  	</button>
  	<div class="collapse navbar-collapse" id="navbarText">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="index.html">Block Estate <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="backPortal.html">Management Portal</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="userDemoPage.html">User Portal</a>
      </li>
    </ul>
    <span class="navbar-text">
     Hello, Manager!
    </span>
  </div>
</nav>
<!--End of navBar -->


	
	<div class="row">

<!-- User One -->
  		<div class="col-sm">
		<div class="card border-success mb-3 mt-4 ml-4" style="width: 16rem; ">
  <img class="card-img-top" src="properties/pic1.jpg" alt="Card image cap">
  <div class="card-body">
    <h5 class="card-title">Property #1</h5>
     <p class="card-text" id='money2' style="float: right" >Rental</p>
    <p class="card-text">Type</p>
    <p class="card-text" id='createdJobs2' style="float: right" >2,200</p>
    <p class="card-text" >Price</p>
    <p class="card-text" id='jobsTaken2' style="float: right" >Accepting Apps</p>
    <p class="card-text">Status</p>
    <p class="card-text" id='reviews2' style="float: right" ></p>
    <a class="btn btn-primary" id='createJob2' href="backPortal.html" >View Info</a>
  </div>
</div>
  </div>

<!-- User Two -->
  <div class="col-sm">
<div class="card  border-danger mt-4 ml-4 " style="width: 16rem;">
  <img class="card-img-top" src="properties/pic2.jpg" alt="Card image cap">
  <div class="card-body">
    <h5 class="card-title">Property #2</h5>
    <p class="card-text" id='money' style="float: right" >For Sale</p>
    <p class="card-text" >Type</p>
    <p class="card-text" id='createdJobs' style="float: right" >670,000</p>
    <p class="card-text">Price</p>
    <p class="card-text"  id='jobsTaken' style="float: right " >Sold</p>
    <p class="card-text" >Status</p>
    <button class="btn btn-primary" id='createJob'>View Info</button>
  </div>
</div>
		</div>


<!-- User Three -->
  		<div class="col-sm">
		<div class="card  border-danger mt-4 ml-4" style="width: 16rem; ">
  <img class="card-img-top" src="properties/pic3.jpg" alt="Card image cap">
  <div class="card-body">
    <h5 class="card-title">Property #3</h5>
    <p class="card-text" id='money2' style="float: right" >Rental</p>
    <p class="card-text">Type</p>
    <p class="card-text" id='createdJobs2' style="float: right" >3,300</p>
    <p class="card-text" >Price</p>
    <p class="card-text" id='jobsTaken2' style="float: right" >Occupied</p>
    <p class="card-text">Status</p>
    <p class="card-text" id='reviews2' style="float: right" ></p>
    <button class="btn btn-primary" id='createJob2'>View Info</button>
  </div>
</div>
  </div>

  <!-- User Four 
  		<div class="col-sm">
		<div class="card mt-4 ml-4" style="width: 15rem; ">
  <img class="card-img-top" src="properties/pic3.jpg" alt="Card image cap">
  <div class="card-body">
    <h5 class="card-title">Property #3</h5>
     <p class="card-text" id='money2' style="float: right" >Rental</p>
    <p class="card-text">Type</p>
    <p class="card-text" id='createdJobs2' style="float: right" >3,300</p>
    <p class="card-text" >Price</p>
    <p class="card-text" id='jobsTaken2' style="float: right" >Occupied</p>
    <p class="card-text">Status</p>
    <p class="card-text" id='reviews2' style="float: right" ></p>
    <button class="btn btn-primary" id='createJob2'>View Info</button>
  </div>
</div>
  </div> -->


	</div>

	<!--<script src="./web3.min.js"></script>-->
	<!--<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>-->
	<!--<script src="./require.min.js"></script>-->
	<!--needed to interact with the smart client-->
	<!--<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"</script>-->

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
<script src="web3.min.js"></script>

<script>
		var contract;

		$(document).ready(function() {
			initContract();
			getValue();
		})

		console.log("hi");

		//metamask and test ether needed
		function initContract() {
			//var Web3 = require('web3');

			web3 = new Web3(web3.currentProvider);
			var address = "0xcc1d8a2ee418c810c3fd69e5c730c6f7cdf188a9";
			var abi = [
	{
		"constant": true,
		"inputs": [],
		"name": "getCounterAnother",
		"outputs": [
			{
				"name": "",
				"type": "int256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "decrement",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "getCounter",
		"outputs": [
			{
				"name": "",
				"type": "int256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "increment",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [],
		"name": "reset",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "constructor"
	}
];
			

			// instantiating new contract
			contract =  new web3.eth.Contract(abi, address);
		}

		function getValue() {
			contract.methods.getCounterAnother().call().then((result) => {
				$('#counter-value').html(result);
			})
			
		}

		$('#increment').click(function() {
			web3.eth.getAccounts().then(function(accounts) {
				var acct = accounts[0];
				return contract.methods.increment().send({from: acct});
			}).then(function(tx) {
				console.log(tx);
				var curr = parseInt($('#counter-value').html());
				$('#counter-value').html(curr + 1);
			}).catch(function(err) {
				console.lg(err);
			})
		})

	</script>





</body>
<html>